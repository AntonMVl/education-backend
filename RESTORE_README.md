# Восстановление системы

## Проблема

После внесения изменений в систему прав администраторов возникли проблемы с отображением суперадминов.

## Текущее состояние

### Бэкенд

- ✅ Метод `getAllAdmins()` возвращает всех администраторов и суперадминов
- ✅ Защита от изменения прав суперадминов работает
- ✅ Защита от удаления суперадминов работает

### Фронтенд

- ✅ Логика отображения кнопок работает правильно
- ✅ Суперадмины отмечены бейджем
- ✅ Кнопки скрыты для суперадминов, когда пользователь - админ

## Восстановление

### 1. Проверьте базу данных

Выполните SQL скрипт `src/database/test-superadmin.sql` для проверки и восстановления суперадмина.

### 2. Проверьте всех пользователей

Выполните SQL скрипт `src/database/check-all-users.sql` для просмотра всех пользователей.

### 3. Перезапустите бэкенд

```bash
cd education-backend
npm run start:dev
```

### 4. Проверьте фронтенд

```bash
cd education-frontend
npm run dev
```

## Ожидаемое поведение

### Для суперадмина

- Видит всех администраторов и суперадминов
- Может редактировать права всех администраторов (кроме себя)
- Может удалять всех администраторов (кроме себя)

### Для админа

- Видит всех администраторов и суперадминов
- Может редактировать права только других админов (не суперадминов, не себя)
- Может удалять только других админов (не суперадминов, не себя)
- Не может управлять суперадминами (кнопки скрыты)
- Не может управлять собой (кнопки скрыты)

## Тестовые данные

### Суперадмин

- Логин: `AMorohin`
- Пароль: `admin123`
- Роль: `superadmin`

### Админ

- Логин: `Borodin`
- Пароль: `admin123`
- Роль: `admin`

## Если проблемы продолжаются

1. Проверьте логи бэкенда на наличие ошибок
2. Проверьте консоль браузера на наличие ошибок
3. Убедитесь, что база данных содержит правильные данные
4. Проверьте, что все миграции выполнены
